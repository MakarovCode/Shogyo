<div id="publications-<%= id%>" class="carousel slide carousel-commodities" data-ride="carousel">
  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <% max = 12 %>
    <% if max > publications.count %>
    <% max = (publications.count/4.0).ceil*4-1 %>
    <% end %>
    <% (0..max).step(4).each do |i| %>
    <div class="item <%= i == 0 ? 'active' : '' %>">
      <div class="row" style="margin-left: 40px; margin-right: 40px;">
        <% publications.drop(i).first(4).each_with_index do |pub| %>
        <%= render "market/publications/index/carusel_line_item", pub: pub, size: size%>
        <% end %>
      </div>
    </div>
    <% end %>
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#publications-<%= id%>" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#publications-<%= id%>" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
